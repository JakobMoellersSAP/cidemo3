pipeline {
	agent any
	tools {
		maven '/usr/share/maven'
		jdk 'JDK 8'
	}
	stages {
		stage('initialize') {
			steps {
				sh '''
					echo "PATH = ${PATH}"
					echo "M2_HOME = ${M2_HOME}"
					'''
				}
			}
		
		stage ('Test'){
			steps{
			  sh'''
			  mvn test
			  '''  }
			}
		stage ('Build') {
			steps {
				sh '''
					cd /var/lib/jenkins/workspace/pipeline_test/java_module
					mvn -Dmaven.test.failure.ignore=true install
					'''
			}	
		}
		

		    }
		}

	}
}